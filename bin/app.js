/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("const SPARQL_ENDPOINT = 'https://data.adamlink.nl/_api/datasets/menno/alles/services/alles/sparql'\n// const SPARQL_ENDPOINT = 'https://data.adamlink.nl/AdamNet/all/services/endpoint'\nconst SPARQL_HREF = 'https://data.adamlink.nl/AdamNet/all/services/endpoint'\n\nPERIOD_BOUNDS = {\n  start: 1600,\n  end: (new Date()).getFullYear()\n}\n\nfunction createMapsQuery (data) {\n  const round = (num) => Math.round(num * 100000) / 100000\n\n  return `\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX dct: <http://purl.org/dc/terms/>\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX sem: <http://semanticweb.cs.vu.nl/2009/11/sem/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT ?map ?img ?x ?y ?title ?begin {\n  ?map dct:spatial ?spatial .\n  ?map foaf:depiction ?img .\n  ?map dc:title ?title .\n\n  ?map sem:hasBeginTimeStamp ?begin .\n  FILTER (year(xsd:dateTime(?begin)) >= ${data.period.start}) .\n  FILTER (year(xsd:dateTime(?begin)) <= ${data.period.end}) .\n\n  ?spatial dc:type \"outline\"^^xsd:string .\n  ?spatial geo:hasGeometry/geo:asWKT ?wkt .\n  ?spatial wdt:P2046 ?km2 .\n  bind (bif:st_geomfromtext(\"POINT(${round(data.coordinates.lng)} ${round(data.coordinates.lat)})\") as ?point)\n  bind (bif:st_geomfromtext(?wkt) as ?outline)\n  FILTER (bif:st_intersects(?point, ?outline))\n}\nORDER BY ASC(?km2)\nLIMIT 25`.trim()\n}\n\nfunction createCollectionsQuery () {\n  return `\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX dct: <http://purl.org/dc/terms/>\nPREFIX void: <http://rdfs.org/ns/void#>\nSELECT DISTINCT ?provenance ?collection (COUNT(?map) AS ?count) WHERE {\n  ?map dc:type \"kaart\"^^xsd:string .\n  ?map void:inDataset ?collection .\n  ?map dct:provenance ?provenance .\n  ?map dct:spatial ?spatial .\n  ?spatial dc:type \"outline\"^^xsd:string .\n}\nGROUP BY ?provenance ?collection\nORDER BY DESC(?count)\nLIMIT 100\n`.trim()\n}\n\nfunction executeQuery (query) {\n  const queryString = m.buildQueryString({\n    query\n  })\n\n  return fetch(SPARQL_ENDPOINT, {\n    method: 'POST',\n    body: queryString,\n    json: true,\n    headers: {\n      'Accept': 'application/sparql-results+json',\n      'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n    }\n  })\n    .catch((err) => console.error('Executing query failed', err))\n    .then((response) => response.json())\n    .then((json) => json.results.bindings)\n    .catch((err) => console.error('Parsing results failed', err))\n}\n\nfunction createRangeSlider (vnode, min, max, value, oninput) {\n  return m('input', {\n    type: 'range',\n    min,\n    max,\n    value,\n    oninput: (event) => {\n      const value = parseInt(event.target.value)\n      oninput(value)\n    }\n  })\n}\n\nconst CollectionsSelect = {\n  collections: undefined,\n  view: (vnode) => m('select', {\n    multiple: 'multiple'\n  }, vnode.state.collections && vnode.state.collections.map((collection) =>\n    m('option', `${collection.provenance.value} (${collection.count.value} kaarten)`)\n  )),\n  oncreate: (vnode) => {\n    const query = createCollectionsQuery()\n    executeQuery(query)\n      .then((collections) => {\n        Object.assign(vnode.state, {collections})\n        m.redraw()\n      })\n  }\n}\n\nconst GeoIntersects = {\n  view: (vnode) => m('div', {\n    id: 'map-container'\n  }, [\n    m(Map, {\n      moveEnd: vnode.attrs.coordinatesUpdated\n    })\n  ])\n}\n\nconst Form = {\n  view: (vnode) => m('li', [\n    m('h2', 'Parameters'),\n    m('form', {\n      onsubmit: (event) => {\n        event.preventDefault()\n        vnode.attrs.executeMapsQuery()\n      }\n    }, [\n      m(CollectionsSelect),\n      createRangeSlider(vnode, PERIOD_BOUNDS.start, PERIOD_BOUNDS.end, vnode.attrs.data.period.start, (value) => {\n        vnode.attrs.data.period.start = value\n        if (vnode.attrs.data.period.end < value) {\n          vnode.attrs.data.period.end = value\n        }\n        vnode.attrs.formUpdated(vnode.attrs.data)\n      }),\n      createRangeSlider(vnode, PERIOD_BOUNDS.start, PERIOD_BOUNDS.end, vnode.attrs.data.period.end, (value) => {\n        vnode.attrs.data.period.end = value\n        if (vnode.attrs.data.period.start > value) {\n          vnode.attrs.data.period.start = value\n        }\n        vnode.attrs.formUpdated(vnode.attrs.data)\n      }),\n      m(GeoIntersects, {\n        coordinatesUpdated: (coordinates) => {\n          vnode.attrs.data.coordinates = {\n            lat: coordinates.lat,\n            lng: coordinates.lng\n          }\n          vnode.attrs.formUpdated(vnode.attrs.data)\n          m.redraw()\n        }\n      }),\n      m('button', {\n        type: 'submit'\n      }, 'Voer query uit op SPARQL-endpoint')\n    ])\n  ])\n}\n\nconst Map = {\n  view: () => m('div', {\n    id: 'map'\n  }),\n  oncreate: (vnode) => {\n    const map = L.map('map').setView([52.37064, 4.90047], 14)\n\n    L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> &copy; <a href=\"http://cartodb.com/attributions\">CartoDB</a>',\n      subdomains: 'abcd',\n      maxZoom: 19\n    }).addTo(map)\n\n    map.on('moveend', (event) => {\n      if (vnode.attrs.moveEnd) {\n        vnode.attrs.moveEnd(map.getCenter())\n      }\n    })\n  }\n}\n\nconst Sparql = {\n  data: {\n    editor: undefined\n  },\n  view: (vnode) => m('li', [\n    m('h2', 'SPARQL-query'),\n    m('textarea', {\n      id: 'sparql-query'\n    }, createMapsQuery(vnode.attrs.data)),\n    m('div', [\n      m('a', {\n        href: `${SPARQL_HREF}#query=${encodeURIComponent(createMapsQuery(vnode.attrs.data))}&` +\n        `contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&` +\n        `endpoint=${encodeURIComponent(SPARQL_ENDPOINT)}&requestMethod=POST&tabTitle=Query&` +\n        `headers=%7B%7D&outputFormat=table`\n      }, 'Open query in AdamLink')\n    ])\n  ]),\n  oncreate: (vnode) => {\n    const element = document.getElementById('sparql-query')\n\n    const editor = CodeMirror.fromTextArea(element, {\n      lineNumbers: true,\n      readOnly: true,\n      mode: 'sparql',\n      foldGutter: true,\n      gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter']\n    })\n\n    editor.foldCode(CodeMirror.Pos(0, 0))\n    vnode.state.data.editor = editor\n  },\n  onupdate: (vnode) => {\n    const editor = vnode.state.data.editor\n    editor.setValue(createMapsQuery(vnode.attrs.data))\n    editor.foldCode(CodeMirror.Pos(0, 0))\n  }\n}\n\nfunction renderResults (data) {\n  if (data && data.length) {\n    return m('ol', {\n      id: 'results'\n    }, data.map((result) => m('li', [\n      m('h3', {\n        class: 'truncate',\n        title: result.title.value\n      }, result.title.value),\n      m('a', {\n        href: result.map.value\n      }, [\n        m('img', {\n          src: result.img.value\n        })\n      ])\n    ])))\n  } else {\n    return m('p', 'Geen resultaten')\n  }\n}\n\nconst Results =  {\n  view: (vnode) => m('li', [\n    m('h2', 'Resultaten'),\n    renderResults(vnode.attrs.data)\n  ])\n}\n\nfunction executeMapsQuery (vnode) {\n  const query = createMapsQuery(vnode.state.data.form)\n  executeQuery(query)\n    .then((results) => {\n      Object.assign(vnode.state.data, {results})\n      m.redraw()\n    })\n}\n\nconst App = {\n  data: {\n    results: undefined,\n    form: {\n      period: Object.assign({}, PERIOD_BOUNDS),\n      coordinates: {\n        lat: 52.37064,\n        lng: 4.90047\n      }\n    }\n  },\n  view: (vnode) => ([\n    m('header', 'Kaarten uit Adamlink met SPARQL'),\n    m('main', [\n      m('p', 'Hier komt de introductie! En het wordt ook nog mooier dan dit natuurlijk.'),\n      m('ol', {\n        class: 'sections'\n      }, [\n        m(Form, {\n          data: vnode.state.data.form,\n          formUpdated: (form) => Object.assign(vnode.state.data, form),\n          executeMapsQuery: () => executeMapsQuery(vnode)\n        }),\n        m(Sparql, {\n          data: vnode.state.data.form\n        }),\n        m(Results, {\n          data: vnode.state.data.results\n        })\n      ])\n    ])\n  ])\n}\n\nm.mount(document.body, App)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTUEFSUUxfRU5EUE9JTlQgPSAnaHR0cHM6Ly9kYXRhLmFkYW1saW5rLm5sL19hcGkvZGF0YXNldHMvbWVubm8vYWxsZXMvc2VydmljZXMvYWxsZXMvc3BhcnFsJ1xuLy8gY29uc3QgU1BBUlFMX0VORFBPSU5UID0gJ2h0dHBzOi8vZGF0YS5hZGFtbGluay5ubC9BZGFtTmV0L2FsbC9zZXJ2aWNlcy9lbmRwb2ludCdcbmNvbnN0IFNQQVJRTF9IUkVGID0gJ2h0dHBzOi8vZGF0YS5hZGFtbGluay5ubC9BZGFtTmV0L2FsbC9zZXJ2aWNlcy9lbmRwb2ludCdcblxuUEVSSU9EX0JPVU5EUyA9IHtcbiAgc3RhcnQ6IDE2MDAsXG4gIGVuZDogKG5ldyBEYXRlKCkpLmdldEZ1bGxZZWFyKClcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwc1F1ZXJ5IChkYXRhKSB7XG4gIGNvbnN0IHJvdW5kID0gKG51bSkgPT4gTWF0aC5yb3VuZChudW0gKiAxMDAwMDApIC8gMTAwMDAwXG5cbiAgcmV0dXJuIGBcblBSRUZJWCBkYzogPGh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvPlxuUFJFRklYIGRjdDogPGh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy8+XG5QUkVGSVggZ2VvOiA8aHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vbnQvZ2Vvc3BhcnFsIz5cblBSRUZJWCBzZW06IDxodHRwOi8vc2VtYW50aWN3ZWIuY3MudnUubmwvMjAwOS8xMS9zZW0vPlxuUFJFRklYIGZvYWY6IDxodHRwOi8veG1sbnMuY29tL2ZvYWYvMC4xLz5cblBSRUZJWCB3ZHQ6IDxodHRwOi8vd3d3Lndpa2lkYXRhLm9yZy9wcm9wL2RpcmVjdC8+XG5cblNFTEVDVCA/bWFwID9pbWcgP3ggP3kgP3RpdGxlID9iZWdpbiB7XG4gID9tYXAgZGN0OnNwYXRpYWwgP3NwYXRpYWwgLlxuICA/bWFwIGZvYWY6ZGVwaWN0aW9uID9pbWcgLlxuICA/bWFwIGRjOnRpdGxlID90aXRsZSAuXG5cbiAgP21hcCBzZW06aGFzQmVnaW5UaW1lU3RhbXAgP2JlZ2luIC5cbiAgRklMVEVSICh5ZWFyKHhzZDpkYXRlVGltZSg/YmVnaW4pKSA+PSAke2RhdGEucGVyaW9kLnN0YXJ0fSkgLlxuICBGSUxURVIgKHllYXIoeHNkOmRhdGVUaW1lKD9iZWdpbikpIDw9ICR7ZGF0YS5wZXJpb2QuZW5kfSkgLlxuXG4gID9zcGF0aWFsIGRjOnR5cGUgXCJvdXRsaW5lXCJeXnhzZDpzdHJpbmcgLlxuICA/c3BhdGlhbCBnZW86aGFzR2VvbWV0cnkvZ2VvOmFzV0tUID93a3QgLlxuICA/c3BhdGlhbCB3ZHQ6UDIwNDYgP2ttMiAuXG4gIGJpbmQgKGJpZjpzdF9nZW9tZnJvbXRleHQoXCJQT0lOVCgke3JvdW5kKGRhdGEuY29vcmRpbmF0ZXMubG5nKX0gJHtyb3VuZChkYXRhLmNvb3JkaW5hdGVzLmxhdCl9KVwiKSBhcyA/cG9pbnQpXG4gIGJpbmQgKGJpZjpzdF9nZW9tZnJvbXRleHQoP3drdCkgYXMgP291dGxpbmUpXG4gIEZJTFRFUiAoYmlmOnN0X2ludGVyc2VjdHMoP3BvaW50LCA/b3V0bGluZSkpXG59XG5PUkRFUiBCWSBBU0MoP2ttMilcbkxJTUlUIDI1YC50cmltKClcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbnNRdWVyeSAoKSB7XG4gIHJldHVybiBgXG5QUkVGSVggZGM6IDxodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLz5cblBSRUZJWCBkY3Q6IDxodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvPlxuUFJFRklYIHZvaWQ6IDxodHRwOi8vcmRmcy5vcmcvbnMvdm9pZCM+XG5TRUxFQ1QgRElTVElOQ1QgP3Byb3ZlbmFuY2UgP2NvbGxlY3Rpb24gKENPVU5UKD9tYXApIEFTID9jb3VudCkgV0hFUkUge1xuICA/bWFwIGRjOnR5cGUgXCJrYWFydFwiXl54c2Q6c3RyaW5nIC5cbiAgP21hcCB2b2lkOmluRGF0YXNldCA/Y29sbGVjdGlvbiAuXG4gID9tYXAgZGN0OnByb3ZlbmFuY2UgP3Byb3ZlbmFuY2UgLlxuICA/bWFwIGRjdDpzcGF0aWFsID9zcGF0aWFsIC5cbiAgP3NwYXRpYWwgZGM6dHlwZSBcIm91dGxpbmVcIl5eeHNkOnN0cmluZyAuXG59XG5HUk9VUCBCWSA/cHJvdmVuYW5jZSA/Y29sbGVjdGlvblxuT1JERVIgQlkgREVTQyg/Y291bnQpXG5MSU1JVCAxMDBcbmAudHJpbSgpXG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVRdWVyeSAocXVlcnkpIHtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBtLmJ1aWxkUXVlcnlTdHJpbmcoe1xuICAgIHF1ZXJ5XG4gIH0pXG5cbiAgcmV0dXJuIGZldGNoKFNQQVJRTF9FTkRQT0lOVCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IHF1ZXJ5U3RyaW5nLFxuICAgIGpzb246IHRydWUsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9zcGFycWwtcmVzdWx0cytqc29uJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04J1xuICAgIH1cbiAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcignRXhlY3V0aW5nIHF1ZXJ5IGZhaWxlZCcsIGVycikpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oKGpzb24pID0+IGpzb24ucmVzdWx0cy5iaW5kaW5ncylcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcignUGFyc2luZyByZXN1bHRzIGZhaWxlZCcsIGVycikpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJhbmdlU2xpZGVyICh2bm9kZSwgbWluLCBtYXgsIHZhbHVlLCBvbmlucHV0KSB7XG4gIHJldHVybiBtKCdpbnB1dCcsIHtcbiAgICB0eXBlOiAncmFuZ2UnLFxuICAgIG1pbixcbiAgICBtYXgsXG4gICAgdmFsdWUsXG4gICAgb25pbnB1dDogKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgIG9uaW5wdXQodmFsdWUpXG4gICAgfVxuICB9KVxufVxuXG5jb25zdCBDb2xsZWN0aW9uc1NlbGVjdCA9IHtcbiAgY29sbGVjdGlvbnM6IHVuZGVmaW5lZCxcbiAgdmlldzogKHZub2RlKSA9PiBtKCdzZWxlY3QnLCB7XG4gICAgbXVsdGlwbGU6ICdtdWx0aXBsZSdcbiAgfSwgdm5vZGUuc3RhdGUuY29sbGVjdGlvbnMgJiYgdm5vZGUuc3RhdGUuY29sbGVjdGlvbnMubWFwKChjb2xsZWN0aW9uKSA9PlxuICAgIG0oJ29wdGlvbicsIGAke2NvbGxlY3Rpb24ucHJvdmVuYW5jZS52YWx1ZX0gKCR7Y29sbGVjdGlvbi5jb3VudC52YWx1ZX0ga2FhcnRlbilgKVxuICApKSxcbiAgb25jcmVhdGU6ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gY3JlYXRlQ29sbGVjdGlvbnNRdWVyeSgpXG4gICAgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KVxuICAgICAgLnRoZW4oKGNvbGxlY3Rpb25zKSA9PiB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odm5vZGUuc3RhdGUsIHtjb2xsZWN0aW9uc30pXG4gICAgICAgIG0ucmVkcmF3KClcbiAgICAgIH0pXG4gIH1cbn1cblxuY29uc3QgR2VvSW50ZXJzZWN0cyA9IHtcbiAgdmlldzogKHZub2RlKSA9PiBtKCdkaXYnLCB7XG4gICAgaWQ6ICdtYXAtY29udGFpbmVyJ1xuICB9LCBbXG4gICAgbShNYXAsIHtcbiAgICAgIG1vdmVFbmQ6IHZub2RlLmF0dHJzLmNvb3JkaW5hdGVzVXBkYXRlZFxuICAgIH0pXG4gIF0pXG59XG5cbmNvbnN0IEZvcm0gPSB7XG4gIHZpZXc6ICh2bm9kZSkgPT4gbSgnbGknLCBbXG4gICAgbSgnaDInLCAnUGFyYW1ldGVycycpLFxuICAgIG0oJ2Zvcm0nLCB7XG4gICAgICBvbnN1Ym1pdDogKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgdm5vZGUuYXR0cnMuZXhlY3V0ZU1hcHNRdWVyeSgpXG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgbShDb2xsZWN0aW9uc1NlbGVjdCksXG4gICAgICBjcmVhdGVSYW5nZVNsaWRlcih2bm9kZSwgUEVSSU9EX0JPVU5EUy5zdGFydCwgUEVSSU9EX0JPVU5EUy5lbmQsIHZub2RlLmF0dHJzLmRhdGEucGVyaW9kLnN0YXJ0LCAodmFsdWUpID0+IHtcbiAgICAgICAgdm5vZGUuYXR0cnMuZGF0YS5wZXJpb2Quc3RhcnQgPSB2YWx1ZVxuICAgICAgICBpZiAodm5vZGUuYXR0cnMuZGF0YS5wZXJpb2QuZW5kIDwgdmFsdWUpIHtcbiAgICAgICAgICB2bm9kZS5hdHRycy5kYXRhLnBlcmlvZC5lbmQgPSB2YWx1ZVxuICAgICAgICB9XG4gICAgICAgIHZub2RlLmF0dHJzLmZvcm1VcGRhdGVkKHZub2RlLmF0dHJzLmRhdGEpXG4gICAgICB9KSxcbiAgICAgIGNyZWF0ZVJhbmdlU2xpZGVyKHZub2RlLCBQRVJJT0RfQk9VTkRTLnN0YXJ0LCBQRVJJT0RfQk9VTkRTLmVuZCwgdm5vZGUuYXR0cnMuZGF0YS5wZXJpb2QuZW5kLCAodmFsdWUpID0+IHtcbiAgICAgICAgdm5vZGUuYXR0cnMuZGF0YS5wZXJpb2QuZW5kID0gdmFsdWVcbiAgICAgICAgaWYgKHZub2RlLmF0dHJzLmRhdGEucGVyaW9kLnN0YXJ0ID4gdmFsdWUpIHtcbiAgICAgICAgICB2bm9kZS5hdHRycy5kYXRhLnBlcmlvZC5zdGFydCA9IHZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgdm5vZGUuYXR0cnMuZm9ybVVwZGF0ZWQodm5vZGUuYXR0cnMuZGF0YSlcbiAgICAgIH0pLFxuICAgICAgbShHZW9JbnRlcnNlY3RzLCB7XG4gICAgICAgIGNvb3JkaW5hdGVzVXBkYXRlZDogKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgICAgICAgdm5vZGUuYXR0cnMuZGF0YS5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIGxhdDogY29vcmRpbmF0ZXMubGF0LFxuICAgICAgICAgICAgbG5nOiBjb29yZGluYXRlcy5sbmdcbiAgICAgICAgICB9XG4gICAgICAgICAgdm5vZGUuYXR0cnMuZm9ybVVwZGF0ZWQodm5vZGUuYXR0cnMuZGF0YSlcbiAgICAgICAgICBtLnJlZHJhdygpXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgbSgnYnV0dG9uJywge1xuICAgICAgICB0eXBlOiAnc3VibWl0J1xuICAgICAgfSwgJ1ZvZXIgcXVlcnkgdWl0IG9wIFNQQVJRTC1lbmRwb2ludCcpXG4gICAgXSlcbiAgXSlcbn1cblxuY29uc3QgTWFwID0ge1xuICB2aWV3OiAoKSA9PiBtKCdkaXYnLCB7XG4gICAgaWQ6ICdtYXAnXG4gIH0pLFxuICBvbmNyZWF0ZTogKHZub2RlKSA9PiB7XG4gICAgY29uc3QgbWFwID0gTC5tYXAoJ21hcCcpLnNldFZpZXcoWzUyLjM3MDY0LCA0LjkwMDQ3XSwgMTQpXG5cbiAgICBMLnRpbGVMYXllcignaHR0cHM6Ly9jYXJ0b2RiLWJhc2VtYXBzLXtzfS5nbG9iYWwuc3NsLmZhc3RseS5uZXQvbGlnaHRfYWxsL3t6fS97eH0ve3l9LnBuZycsIHtcbiAgICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+ICZjb3B5OyA8YSBocmVmPVwiaHR0cDovL2NhcnRvZGIuY29tL2F0dHJpYnV0aW9uc1wiPkNhcnRvREI8L2E+JyxcbiAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcbiAgICAgIG1heFpvb206IDE5XG4gICAgfSkuYWRkVG8obWFwKVxuXG4gICAgbWFwLm9uKCdtb3ZlZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodm5vZGUuYXR0cnMubW92ZUVuZCkge1xuICAgICAgICB2bm9kZS5hdHRycy5tb3ZlRW5kKG1hcC5nZXRDZW50ZXIoKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmNvbnN0IFNwYXJxbCA9IHtcbiAgZGF0YToge1xuICAgIGVkaXRvcjogdW5kZWZpbmVkXG4gIH0sXG4gIHZpZXc6ICh2bm9kZSkgPT4gbSgnbGknLCBbXG4gICAgbSgnaDInLCAnU1BBUlFMLXF1ZXJ5JyksXG4gICAgbSgndGV4dGFyZWEnLCB7XG4gICAgICBpZDogJ3NwYXJxbC1xdWVyeSdcbiAgICB9LCBjcmVhdGVNYXBzUXVlcnkodm5vZGUuYXR0cnMuZGF0YSkpLFxuICAgIG0oJ2RpdicsIFtcbiAgICAgIG0oJ2EnLCB7XG4gICAgICAgIGhyZWY6IGAke1NQQVJRTF9IUkVGfSNxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChjcmVhdGVNYXBzUXVlcnkodm5vZGUuYXR0cnMuZGF0YSkpfSZgICtcbiAgICAgICAgYGNvbnRlbnRUeXBlQ29uc3RydWN0PXRleHQlMkZ0dXJ0bGUmY29udGVudFR5cGVTZWxlY3Q9YXBwbGljYXRpb24lMkZzcGFycWwtcmVzdWx0cyUyQmpzb24mYCArXG4gICAgICAgIGBlbmRwb2ludD0ke2VuY29kZVVSSUNvbXBvbmVudChTUEFSUUxfRU5EUE9JTlQpfSZyZXF1ZXN0TWV0aG9kPVBPU1QmdGFiVGl0bGU9UXVlcnkmYCArXG4gICAgICAgIGBoZWFkZXJzPSU3QiU3RCZvdXRwdXRGb3JtYXQ9dGFibGVgXG4gICAgICB9LCAnT3BlbiBxdWVyeSBpbiBBZGFtTGluaycpXG4gICAgXSlcbiAgXSksXG4gIG9uY3JlYXRlOiAodm5vZGUpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwYXJxbC1xdWVyeScpXG5cbiAgICBjb25zdCBlZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShlbGVtZW50LCB7XG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgbW9kZTogJ3NwYXJxbCcsXG4gICAgICBmb2xkR3V0dGVyOiB0cnVlLFxuICAgICAgZ3V0dGVyczogWydDb2RlTWlycm9yLWxpbmVudW1iZXJzJywgJ0NvZGVNaXJyb3ItZm9sZGd1dHRlciddXG4gICAgfSlcblxuICAgIGVkaXRvci5mb2xkQ29kZShDb2RlTWlycm9yLlBvcygwLCAwKSlcbiAgICB2bm9kZS5zdGF0ZS5kYXRhLmVkaXRvciA9IGVkaXRvclxuICB9LFxuICBvbnVwZGF0ZTogKHZub2RlKSA9PiB7XG4gICAgY29uc3QgZWRpdG9yID0gdm5vZGUuc3RhdGUuZGF0YS5lZGl0b3JcbiAgICBlZGl0b3Iuc2V0VmFsdWUoY3JlYXRlTWFwc1F1ZXJ5KHZub2RlLmF0dHJzLmRhdGEpKVxuICAgIGVkaXRvci5mb2xkQ29kZShDb2RlTWlycm9yLlBvcygwLCAwKSlcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJSZXN1bHRzIChkYXRhKSB7XG4gIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG0oJ29sJywge1xuICAgICAgaWQ6ICdyZXN1bHRzJ1xuICAgIH0sIGRhdGEubWFwKChyZXN1bHQpID0+IG0oJ2xpJywgW1xuICAgICAgbSgnaDMnLCB7XG4gICAgICAgIGNsYXNzOiAndHJ1bmNhdGUnLFxuICAgICAgICB0aXRsZTogcmVzdWx0LnRpdGxlLnZhbHVlXG4gICAgICB9LCByZXN1bHQudGl0bGUudmFsdWUpLFxuICAgICAgbSgnYScsIHtcbiAgICAgICAgaHJlZjogcmVzdWx0Lm1hcC52YWx1ZVxuICAgICAgfSwgW1xuICAgICAgICBtKCdpbWcnLCB7XG4gICAgICAgICAgc3JjOiByZXN1bHQuaW1nLnZhbHVlXG4gICAgICAgIH0pXG4gICAgICBdKVxuICAgIF0pKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbSgncCcsICdHZWVuIHJlc3VsdGF0ZW4nKVxuICB9XG59XG5cbmNvbnN0IFJlc3VsdHMgPSAge1xuICB2aWV3OiAodm5vZGUpID0+IG0oJ2xpJywgW1xuICAgIG0oJ2gyJywgJ1Jlc3VsdGF0ZW4nKSxcbiAgICByZW5kZXJSZXN1bHRzKHZub2RlLmF0dHJzLmRhdGEpXG4gIF0pXG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVNYXBzUXVlcnkgKHZub2RlKSB7XG4gIGNvbnN0IHF1ZXJ5ID0gY3JlYXRlTWFwc1F1ZXJ5KHZub2RlLnN0YXRlLmRhdGEuZm9ybSlcbiAgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KVxuICAgIC50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHZub2RlLnN0YXRlLmRhdGEsIHtyZXN1bHRzfSlcbiAgICAgIG0ucmVkcmF3KClcbiAgICB9KVxufVxuXG5jb25zdCBBcHAgPSB7XG4gIGRhdGE6IHtcbiAgICByZXN1bHRzOiB1bmRlZmluZWQsXG4gICAgZm9ybToge1xuICAgICAgcGVyaW9kOiBPYmplY3QuYXNzaWduKHt9LCBQRVJJT0RfQk9VTkRTKSxcbiAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgIGxhdDogNTIuMzcwNjQsXG4gICAgICAgIGxuZzogNC45MDA0N1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdmlldzogKHZub2RlKSA9PiAoW1xuICAgIG0oJ2hlYWRlcicsICdLYWFydGVuIHVpdCBBZGFtbGluayBtZXQgU1BBUlFMJyksXG4gICAgbSgnbWFpbicsIFtcbiAgICAgIG0oJ3AnLCAnSGllciBrb210IGRlIGludHJvZHVjdGllISBFbiBoZXQgd29yZHQgb29rIG5vZyBtb29pZXIgZGFuIGRpdCBuYXR1dXJsaWprLicpLFxuICAgICAgbSgnb2wnLCB7XG4gICAgICAgIGNsYXNzOiAnc2VjdGlvbnMnXG4gICAgICB9LCBbXG4gICAgICAgIG0oRm9ybSwge1xuICAgICAgICAgIGRhdGE6IHZub2RlLnN0YXRlLmRhdGEuZm9ybSxcbiAgICAgICAgICBmb3JtVXBkYXRlZDogKGZvcm0pID0+IE9iamVjdC5hc3NpZ24odm5vZGUuc3RhdGUuZGF0YSwgZm9ybSksXG4gICAgICAgICAgZXhlY3V0ZU1hcHNRdWVyeTogKCkgPT4gZXhlY3V0ZU1hcHNRdWVyeSh2bm9kZSlcbiAgICAgICAgfSksXG4gICAgICAgIG0oU3BhcnFsLCB7XG4gICAgICAgICAgZGF0YTogdm5vZGUuc3RhdGUuZGF0YS5mb3JtXG4gICAgICAgIH0pLFxuICAgICAgICBtKFJlc3VsdHMsIHtcbiAgICAgICAgICBkYXRhOiB2bm9kZS5zdGF0ZS5kYXRhLnJlc3VsdHNcbiAgICAgICAgfSlcbiAgICAgIF0pXG4gICAgXSlcbiAgXSlcbn1cblxubS5tb3VudChkb2N1bWVudC5ib2R5LCBBcHApXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ });